<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercicio 01</title>
</head>

<body>
  <h1>Quiosque Mirosmar - Controle de Vendas</h1>
  <h2>-----------------Abertura do Quiosque----------------------</h2>
  <span>Insira a quantidade da água no estoque: </span><input type="number" id="inp_agua"> <br><br>
  <span>Insira a quantidade de coco no estoque: </span><input type="number" id="inp_coco"> <br><br>

  <button onclick="validar()">
    Abrir o quiosque
  </button> <br><br>

  <span id="result"></span>
  <span id="estoque"></span>
  <span id="registro"></span>
  <span id="resultado"></span>
  <span id="result2"></span>
  <span id="aviso"></span>
  <span id="venda"></span>


</body>

</html>


<script>
  var quantidade_agua = 0;
  var quantidade_coco = 0;
  function validar() {
    quantidade_agua = Number(inp_agua.value);
    quantidade_coco = Number(inp_coco.value);
    qtn_inicial_agua = Number(inp_agua.value);
    qtn_inicial_coco = Number(inp_coco.value);
    result.innerHTML = ``;
    estoque.innerHTML = ``;
    registro.innerHTML = ``;
    resultado.innerHTML = ``;
    result2.innerHTML = ``;
    aviso.innerHTML = ``;
    venda.innerHTML = ``;
    var validacao = 0;


    if (quantidade_agua < 100) {
      result.innerHTML = `Com essa quantidade de Água engarrafada não dá para abrir o quiosque<br>`;
      validacao = 1
    } else if (quantidade_coco < 200) {
      result.innerHTML = `Com essa quantidade de Coco fechado não dá para abrir o quiosque <br>`;
      validacao = 1
    } else if (validacao == 0) {
      estoque.innerHTML = `
      <h2>-----------------Estoque inicial----------------------</h2>
      Água engarrafada:  ${quantidade_agua}<br>
      Coco fechado:  ${quantidade_coco}`

      registro.innerHTML = `<h2>-------Registro das Operações de venda-------</h2>
      Entre com a quantidade vendida:  <input type="number" id="inp_qnt"> Informe o produto vendido:
      <select id="selecionar">
        <option value="agua">Água Engarrafada</option>
        <option value="coco">Coco fechado</option>
      </select>   <button onclick="amostra()">Registrar a Venda</button>
  <button style="background-color: red; color: white;" onclick="encerrar()">Encerrar</button><br><br>   `
    }
  }

  var venda_agua = 0
  var venda_coco = 0

  function amostra() {
    var quantidade = Number(inp_qnt.value)
    var sel = selecionar.value;
    if (quantidade_agua >= 100 && quantidade_agua <= 1000) {
      result2.innerHTML = `<br>Engarrafe mais água de coco<br>`;
    } if (quantidade_coco >= 200 && quantidade_coco <= 2000) {
      aviso.innerHTML = `Compre mais cocos<br><br>`;
    }
    if (sel == 'agua') {
      venda_agua += quantidade
      quantidade_agua -= quantidade
      venda.innerHTML += `Com a venda de ${quantidade} de Água engarrafada o saldo no estoque é de ${quantidade_agua}<br>`
    } else {
      venda_coco += quantidade
      quantidade_coco -= quantidade
      venda.innerHTML += `Com a venda de ${quantidade} de Coco fechado o saldo no estoque é de ${quantidade_coco}<br>`
    }
  }

  function encerrar() {
    result2.innerHTML = ``;
    aviso.innerHTML = ``;
    venda.innerHTML = `Venda de Água engarrafada<br>
    Saldo de produto no estoque: ${quantidade_agua}<br>
    Quantidade de venda: ${venda_agua}<br>
    Porcentual das vendas: ${((venda_agua * 100) / qtn_inicial_agua).toFixed(2)}%`;
    venda.innerHTML += `<br><br>Venda de Coco fechado<br>
    Saldo de produto no estoque: ${quantidade_coco}<br>
    Quantidade de venda: ${venda_coco}<br>
    Porcentual das vendas: ${((venda_coco * 100) / qtn_inicial_coco).toFixed(2)}%`;

  }

</script>